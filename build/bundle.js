!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).window=n.window||{})}(this,function(c){"use strict";function s(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=n&&("undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"]);if(null==e)return;var o,a,r=[],c=!0,i=!1;try{for(e=e.call(n);!(c=(o=e.next()).done)&&(r.push(o.value),!t||r.length!==t);c=!0);}catch(n){i=!0,a=n}finally{try{c||null==e.return||e.return()}finally{if(i)throw a}}return r}(n,t)||e(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(n){return function(n){if(Array.isArray(n))return o(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,t){if(n){if("string"==typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(n,t):void 0}}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function t(n,t){var e=1<arguments.length&&void 0!==t?t:null;return e?'<span class = "lighter"><a target="_blank" href=\''.concat(e,"'>").concat(n,"</a> </span>"):'<span class = "lighter">'.concat(n,"</span>")}!function(n,t){void 0===t&&(t={});var e,o,a=t.insertAt;n&&"undefined"!=typeof document&&(e=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("style")).type="text/css","top"===a&&e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)))}("/* Body, Headers, and Text*/\n* {\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  box-sizing: border-box;\n  height: 100%;\n}\n\nbody {\n  background: #f2f6f9;\n  height: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n    Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n  overflow: hidden;\n  /* -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; */\n}\n\nh1,\nh2,\nh3 {\n  font-size: 25px !important;\n  padding-bottom: 5px;\n  margin: 0px 0px !important;\n}\n\nh1 {\n  color: black !important;\n}\n\nh4,\nh5,\nh6 {\n  font-weight: normal !important;\n  padding-bottom: 5px;\n  margin: 0px 0px !important;\n}\n\nspan {\n  font-size: 12px;\n}\n\n/*Text Styles*/\n.bold {\n  font-weight: bold !important;\n}\n\n.lighter {\n  color: #444444;\n}\n\n/*Toolboxes and Infoboxes*/\n.separator {\n  min-height: 1px;\n  background-color: rgba(46, 60, 67, 0.08);\n  margin: 16px 0;\n}\n\n.main {\n  display: flex;\n  flex-wrap: wrap-reverse;\n  height: 100%;\n}\n\n.left {\n  flex: 1 1 300px;\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: #fff;\n  z-index: 2;\n}\n\n.left-controls {\n  margin: 1rem;\n}\n\n.right {\n  flex: 999 1 0;\n  min-width: 375px;\n  height: 100%;\n}\n\n.modal {\n  display: none;\n  position: fixed;\n  z-index: 1001;\n  top: 0;\n  right: 0;\n  margin: 0.8em 1em;\n  background-color: white;\n  padding: 10px;\n  width: 30%;\n  height: 80%;\n  overflow-y: auto;\n  box-shadow: 0 0px 16px rgba(0, 0, 0, 0.24);\n  border-radius: 4px;\n  overflow: auto;\n}\n\n@media all and (max-width: 674px) {\n  .left {\n    height: 50%;\n  }\n  .right {\n    height: 50%;\n  }\n  .modal {\n    width: 80%;\n    height: 65%;\n    margin: 2em auto;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: auto;\n  }\n}\n\n#about {\n  margin-top: 20px;\n}\n\n.logo {\n  width: 50px;\n  margin: auto;\n  display: block;\n}\n\n.logo_caption {\n  font-size: 10px;\n  text-align: center;\n  margin-top: 5px;\n}\n\n.close_button,\n.reset_map {\n  font-size: 11px;\n}\n\n#footer {\n  text-align: center !important;\n}\n\n.footer_text {\n  font-size: 11px;\n}\n\n/*Icons and Legends*/\nhr {\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\n\n.colored_line {\n  border: none;\n  border-top: 3px solid #000;\n  color: #fff;\n  background-color: #fff;\n  height: 1px;\n  width: 15%;\n  margin-left: 10px;\n}\n\n.legend_text {\n  font-size: 11px;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 22px;\n  height: 14px;\n  margin-right: 5px;\n}\n\n.switch input {\n  display: none;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  transition: 0.4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: '';\n  height: 8px;\n  width: 8px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.4s;\n}\n\ninput:checked + .slider {\n  background-color: #6a6a6a;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #6a6a6a;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(8px);\n  transform: translateX(8px);\n}\n\n/*Map*/\n#container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n\n.leaflet-control-zoom-out {\n  background-color: #fff !important;\n}\n\n.leaflet-control-zoom-in {\n  background-color: #fff !important;\n}\n\n/*Search*/\n#no_results {\n  display: none;\n}\n\n.search_label {\n  font-size: 14px !important;\n}\n\ninput[type='submit'] {\n  background-color: #6a6a6a;\n  border: none;\n  color: white;\n  padding: 5px 10px;\n  text-decoration: none;\n  cursor: pointer;\n  margin-top: 5px;\n}\n\n.search_bar {\n  width: 100%;\n  padding: 5px 15px;\n  box-sizing: border-box;\n}\n\n.select_custom {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n\n.select_custom select {\n  display: inline-block;\n  width: 100%;\n  padding: 10px 15px;\n  cursor: pointer;\n  color: #7b7b7b;\n  border: 0;\n  border-radius: 0;\n  outline: 0;\n  background: #e6e6e6;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n.select_custom select::-ms-expand {\n  display: none;\n}\n\n.select_custom select:hover,\n.select_custom select:focus {\n  color: #000;\n  background: #ccc;\n}\n\n.select_custom select:disabled {\n  pointer-events: none;\n  opacity: 0.5;\n}\n\n.select_arrow {\n  position: absolute;\n  top: 12px;\n  right: 15px;\n  width: 0;\n  height: 0;\n  pointer-events: none;\n  border-width: 8px 5px 0 5px;\n  border-style: solid;\n  border-color: #7b7b7b transparent transparent transparent;\n}\n\n.select_custom select:hover ~ .select_arrow,\n.select_custom select:focus ~ .select_arrow {\n  border-top-color: #000;\n}\n\n.select_custom select:disabled ~ .select_arrow {\n  border-top-color: #ccc;\n}\n\n.city_icons {\n  width: 50px;\n  float: left;\n  margin-right: 10px;\n}\n\n/*Clears and Margins*/\n.clearfix {\n  overflow: auto;\n  width: 100%;\n}\n\n#suggestions {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n#suggestions li:hover {\n  background-color: rgb(219, 219, 219);\n}\n\n.input_checkbox {\n  display: flex;\n  flex-direction: row;\n  margin-top: 1rem;\n}\n\n.input_checkbox input {\n  margin-left: 1rem;\n}\n");var i=document.getElementById("address"),l=document.getElementById("suggestions"),p="2J6__p_IWwUmOHYMKuMYjw",u={cd:{name:"Community Districts",sql:"SELECT * FROM all_bounds WHERE id = 'cd' AND NOT namecol IN ('164','226','227','228','355','356','480','481','482')",textColor:"#000000",lineColor:"#000000",icon:"static/NYCCo_human_group_a_01.jpg",formatContent:function(n){return function(n,t){var e;switch(n){case"1":e="Manhattan - ".concat(t);break;case"2":e="Bronx - ".concat(t);break;case"3":e="Brooklyn - ".concat(t);break;case"4":e="Queens - ".concat(t);break;case"5":e="Staten Island - ".concat(t);break;default:e="".concat(n," - ").concat(t)}return'<span class = "lighter">'.concat(e,"</span>")}(n[0],n.substring(1,3))}},pp:{name:"Police Precincts",sql:"SELECT * FROM all_bounds WHERE id = 'pp'",textColor:"#12eded",lineColor:"#12eded",icon:"static/NYCCo_jobs_police_01.jpg",formatContent:function(n){return 11==(t=n)||12==t||13==t?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/midtown-south-precinct.page\'>'.concat(t,"</a> </span>"):14==t?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/'.concat(t,"th-precinct.page'>").concat(t,"</a> </span>"):18==t?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/midtown-north-precinct.page\'>'.concat(t,"</a> </span>"):22==t?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/central-park-precinct.page\'>'.concat(t,"</a> </span>"):t%10==1?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/'.concat(t,"st-precinct.page'>").concat(t,"</a> </span>"):t%10==2?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/'.concat(t,"nd-precinct.page'>").concat(t,"</a> </span>"):t%10==3?'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/'.concat(t,"rd-precinct.page'>").concat(t,"</a> </span>"):'<span class = "lighter"><a target="_blank" href=\'https://www1.nyc.gov/site/nypd/bureaus/patrol/precincts/'.concat(t,"th-precinct.page'>").concat(t,"</a> </span>");var t}},dsny:{name:"Sanitation Districts",sql:"SELECT * FROM all_bounds WHERE id = 'dsny'",textColor:"#12eda4",lineColor:"#12eda4",icon:"static/NYCCo_sanitation_garbage_01.jpg",formatContent:function(n){return t(n)}},fb:{name:"Fire Battilion",sql:"SELECT * FROM all_bounds WHERE id = 'fb'",textColor:"#12ed12",lineColor:"#12ed12",icon:"static/NYCCo_jobs_firefighter_01.jpg",formatContent:function(n){return t(n)}},sd:{name:"School Districts",sql:"SELECT * FROM all_bounds WHERE id = 'sd'",textColor:"#eded12",lineColor:"#eded12",icon:"static/NYCCo_food_apple_01.jpg",formatContent:function(n){return t(n)}},hc:{name:"Health Center Districts",sql:"SELECT * FROM all_bounds WHERE id = 'hc'",textColor:"#edbd12",lineColor:"#edbd12",icon:"static/NYCCo_jobs_doctor_01.jpg",formatContent:function(n){return t(n)}},cc:{name:"City Council Districts",sql:"SELECT * FROM all_bounds WHERE id = 'cc'",textColor:"#ed7d12",lineColor:"#ed7d12",icon:"static/NYCCo_government_cityhall_01.jpg",formatContent:function(n){return t(n,"https://council.nyc.gov/district-".concat(n))}},nycongress:{name:"Congressional Districts",sql:"SELECT * FROM all_bounds WHERE id = 'nycongress'",textColor:"#ed1212",lineColor:"#ed1212",icon:"static/NYCCo_domestic_a_01.jpg",formatContent:function(n){return t(n,"https://www.govtrack.us/congress/members/NY/".concat(n))}},sa:{name:"State Assembly Districts",sql:"SELECT * FROM all_bounds WHERE id = 'sa'",textColor:"#ed1294",lineColor:"#ed1294",icon:"static/NYCCo_governement_law_01.jpg",formatContent:function(n){return t(n)}},ss:{name:"State Senate Districts",sql:"SELECT * FROM all_bounds WHERE id = 'ss'",textColor:"#9912ed",lineColor:"#9912ed",icon:"static/NYCCo_government_justice_01.jpg",formatContent:function(n){return t(n,"https://www.nysenate.gov/district/".concat(n))}},nta:{name:"Neighborhood Tabulation Area",sql:"SELECT * FROM all_bounds WHERE id = 'nta'",textColor:"#1212ed",lineColor:"#1212ed",icon:"static/NYCCo_explore_01.jpg",textSmall:!0,formatContent:function(n){return t(n)}},bid:{name:"Business Improvement District",sql:"SELECT * FROM all_bounds WHERE id = 'bid'",textColor:"#129ded",lineColor:"#129ded",icon:"static/NYCCo_jobs_a_01.jpg",textSmall:!0,formatContent:function(n){return t(n)}},zipcode:{name:"Zipcodes",sql:"SELECT * FROM all_bounds WHERE id = 'zipcode'",textColor:"#666666",lineColor:"#666666",icon:"static/NYCCo_zip_01.jpg",textSmall:!0,formatContent:function(n){return t(n)}}};function m(n,t,e){var a=2<arguments.length&&void 0!==e?e:null;c.map.setView([n,t]),null===a&&(a="Clicked Point: ".concat(n.toFixed(5),", ").concat(t.toFixed(5))),c.marker&&c.marker.remove(),c.marker=L.marker([n,t]).addTo(c.map);var o="https://betanyc.carto.com/api/v2/sql/?q=SELECT * FROM all_bounds WHERE ST_Intersects(ST_SetSRID(ST_MakePoint(".concat(t,", ").concat(n,"), 4326),the_geom) &api_key=").concat(p);fetch(o).then(function(n){return n.json()}).then(function(n){var r,t,e,o=n.rows;return r=o,t=a,e=Object.entries(u).map(function(n){var t=s(n,2),e=t[0],o=t[1],a='<img class="city_icons" src="'.concat(o.icon,'"/><h5 class= "">').concat(o.name,"</h5>");return a+=r.filter(function(n){return n.id===e}).reduce(function(n,t){return n.map(function(n){return n.namecol}).includes(t.namecol)?n:[].concat(d(n),[t])},[]).map(function(n){return o.formatContent(n.namecol,n.namealt)}).join('<span class= "lighter">, </span>'),'<div id="ds_info" class="clearfix">'.concat(a,"</div>")}).join(""),document.getElementById("info_box").innerHTML='\n    <a href="#" onclick="toggle_visibility(\'info_box\');if(marker){marker.remove()};" class="close_button">Close Window</a>\n    <div id="info"><h3 class = "bold">'.concat(t,' </h3><div class="separator"></div></div>').concat(e,"\n  "),void f()})}function f(){document.getElementById("info_box").style.display="none",document.getElementById("info_box").style.display="block"}function a(e){var n="https://betanyc.carto.com/api/v2/sql/?q=SELECT namecol FROM all_bounds WHERE id = '".concat(e,"' &api_key=").concat(p);!function(n){var t=Object.keys(u);document.getElementById(n).checked||((e=document.getElementById(n)).checked=!0,o=new Event("change"),e.dispatchEvent(o));for(var e,o,a=0;a<t.length;a++){t[a]!=n&&document.getElementById(t[a]).checked&&((e=document.getElementById(t[a])).checked=!1,o=new Event("change"),e.dispatchEvent(o))}}(e),fetch(n).then(function(n){return n.json()}).then(function(n){var t=n.rows.map(function(n){return n.namecol}).reduce(function(n,t){return n.includes(t)?n:[].concat(d(n),[t])},[]).sort(function(n,t){return n.localeCompare(t,"en-US",{numeric:"true"})}).map(function(n){return'<option value="'.concat(n,'">').concat(n,"</option>")}).join("");document.getElementById("selected_district").innerHTML='\n\t\t\t<select id="district">'.concat(t,'</select>\n\t\t\t\t<div class="select_arrow"></div>\n\t\t\t<input type="submit" value="Select" onclick="list_overlaps(\'').concat(e,"')\">\n\t\t")}).catch(function(n){return console.log(n)})}c.init=function(){c.map=L.map("map").setView([40.70458,-73.9256],11),c.map.doubleClickZoom.disable(),L.tileLayer("https://api.mapbox.com/styles/v1/zhik/cke336l6w1g4n1dqv1tlv1pw3/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiemhpayIsImEiOiJjaW1pbGFpdHQwMGNidnBrZzU5MjF5MTJiIn0.N-EURex2qvfEiBsm-W9j7w",{maxZoom:18}).addTo(c.map);var l=new carto.Client({apiKey:p,username:"betanyc"});Object.entries(u).forEach(function(n,t){var e=s(n,2),o=e[0],a=e[1];a.source=new carto.source.SQL(a.sql);var r=a.textSmall?"\n      #layer[zoom > 12]{\n        text-size: 11;\n      }\n      #layer[zoom <= 12]{\n        text-size: 8;\n      }":"#layer[zoom > 11]{\n        text-size: 16;\n        text-character-spacing: 2;\n      }\n      #layer[zoom <= 11]{\n        text-size: 10;\n        text-character-spacing: 1;\n      }";a.style=new carto.style.CartoCSS("\n\t\t\t#layer {\n      polygon-fill: #fff;\n\t\t\tpolygon-opacity: 0;\n      text-name: [namecol];\n      text-face-name: 'Lato Bold Italic';\n      text-fill: #fff;\n      text-halo-radius: 2.5;\n      text-halo-fill: darken(".concat(a.textColor,',20);\n      text-allow-overlap: false;\n      text-placements: "N,E,S,W";\n      text-dy: -1;\n      text-dx: -1;\n      text-placement-type: simple;\n      text-label-position-tolerance: 20;\n\t\t\t}\n\t\t\t#layer::outline {\n      line-width: 2;\n\t\t\tline-color: ').concat(a.lineColor,";\n      line-opacity: 1;\n      line-rasterizer: full;\n      line-comp-op: dst-over;\n      line-dasharray: 20, 10;\n      line-dash-offset: ").concat(3*t,";\n\t\t\t}\n\t\t\t#layer::outline [zoom <= 12]{\n\t\t\t\tmarker-width: 1;\n      }\n      ").concat(r,"\n\t\t"));var c="extraColumns"in a?a.extraColumns:[],i=[a.textName].concat(d(c));a.layer=new carto.layer.Layer(a.source,a.style,i),l.addLayer(a.layer),document.getElementById("switches").innerHTML+='\n\t\t\t<li>\n\t\t\t\t<label class="switch">\n\t\t\t\t\t<input id="'.concat(o,'" type="checkbox" name="style" onchange="toggle_layer(\'').concat(o,"')\" ").concat("cd"===o?"checked":"",'>\n\t\t\t\t\t<span class="slider"></span>\n\t\t\t\t</label>\n\t\t\t\t<h5>').concat(a.name,'</h5> <hr class="colored_line" style="border-top-color:').concat(a.lineColor,'">\n\t\t\t</li>\n\t\t'),"cd"!==o&&a.layer.hide()}),l.getLeafletLayer().addTo(c.map),L.popup({closeButton:!1});var r=document.getElementById("admin_district");Object.entries(u).forEach(function(n){var t=s(n,2),e=t[0],o=t[1],a=document.createElement("option");a.textContent=o.name,a.value=e,r.appendChild(a)}),r.addEventListener("change",function(n){return a(n.target.value)});var o=document.getElementById("map_clicked"),n=!localStorage.getItem("map-clicked")||"false"!==localStorage.getItem("map-clicked"),t=e(null,n);function e(n,t){if(t){o.checked=!0,localStorage.setItem("map-clicked","true");var e=function(n){var t=n.latlng;m(t.lat,t.lng)};return c.map.on("click",e),e}return o.checked=!1,localStorage.setItem("map-clicked","false"),n&&c.map.off("click",n),null}o.addEventListener("click",function(){t=e(t,n=!n)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){var t=n.coords;m(t.latitude,t.longitude)})},c.layers=u,c.list_overlaps=function(e){c.marker&&c.marker.remove();var n=document.getElementById("district"),o=n.options[n.selectedIndex].value,t="\n                WITH  al as (SELECT ST_MakeValid(the_geom) as the_geom, id, namecol, namealt FROM all_bounds),\n                      se as (SELECT the_geom FROM al WHERE id = '".concat(e,"' AND namecol = '").concat(o,"'),\n                      inter as \n                        (SELECT DISTINCT al.id, al.namecol, al.namealt, \n                          ST_Area(se.the_geom) as area, ST_Area(ST_Intersection(al.the_geom, se.the_geom)) as searea\n                          FROM al, se \n                          WHERE ST_Intersects(al.the_geom, se.the_geom))\n                SELECT * FROM inter WHERE searea / area > .005\n                "),a="https://betanyc.carto.com/api/v2/sql/?q=".concat(t,"&api_key=").concat(p);fetch(a).then(function(n){return n.json()}).then(function(n){var r=n.rows,t=Object.entries(u).map(function(n){var t=s(n,2),e=t[0],o=t[1],a='<img class="city_icons" src="'.concat(o.icon,'"/><h5 class= "">').concat(o.name,"</h5>");return a+=r.filter(function(n){return n.id===e}).reduce(function(n,t){return n.map(function(n){return n.namecol}).includes(t.namecol)?n:[].concat(d(n),[t])},[]).filter(function(n){return!n.namecol.includes("park-cemetery-etc")}).map(function(n){return t=o.formatContent(n.namecol,n.namealt),(e=n.searea/n.area)<.05?'<abbr title="Overlaps only '.concat((100*e).toFixed(1),'% of the district">').concat(t,"*</abbr>"):t;var t,e}).join('<span class= "lighter">, </span>'),'<div id="ds_info" class="clearfix">'.concat(a,"</div>")}).join("");document.getElementById("info_box").innerHTML='\n        <a href="#" onclick="toggle_visibility(\'info_box\');if(marker){marker.remove()};" class="close_button">Close Window</a>\n        <div id="info"><h3 class = "bold">'.concat(u[e].name," - ").concat(o," </h3>\n        <span class='lighter'>*Less than 5% overlap.</span>\n        <div class=\"separator\"></div></div>").concat(t),f()})},c.reset_map=function(){c.map.setView([40.70458,-73.9256],11),c.marker&&c.marker.remove()},c.search_address=function(){var n=i.value,t="https://geosearch.planninglabs.nyc/v1/search?text=".concat(n);fetch(t).then(function(n){return n.json()}).then(function(n){for(var t=n.features;l.firstChild;)l.removeChild(l.firstChild);t.forEach(function(n){var t=n.properties.label.replace(", New York, NY, USA",""),e=s(n.geometry.coordinates,2),o=e[0],a=e[1],r=document.createElement("li"),c=document.createElement("a");c.textContent=t,c.addEventListener("click",function(){for(i.value=t;l.firstChild;)l.removeChild(l.firstChild);m(a,o,t)}),r.appendChild(c),l.appendChild(r)})})},c.set_address=function(){fetch("https://geosearch.planninglabs.nyc/v1/search?text=".concat(i.value)).then(function(n){return n.json()}).then(function(n){var t=n.features;if(0<t.length){var e=t[0].properties.label.replace(", New York, NY, USA",""),o=s(t[0].geometry.coordinates,2),a=o[0],r=o[1];for(document.getElementById("no_results").style.display="none",m(r,a,e);l.firstChild;)l.removeChild(l.firstChild)}else document.getElementById("no_results").style.display="block"}).catch(function(n){console.log(n),document.getElementById("no_results").style.display="block"})},c.show_info_box=f,c.toggle_layer=function(n){document.getElementById(n).checked?u[n].layer.show():u[n].layer.hide()},c.toggle_visibility=function(n){var t=document.getElementById(n);"block"==t.style.display?t.style.display="none":t.style.display="block"},Object.defineProperty(c,"__esModule",{value:!0})});
