<script lang="ts">
  import {
    selectedAddress,
    selectedBoundaryMap,
    selectedDistrict,
    selectedCoordinates,
    isSelectingCoordinates
  } from '../../stores'
  import DefaultDetails from './DefaultDetails.svelte'
  import AddressDetails from './AddressDetails.svelte'
  import BoundaryDetails from './BoundaryDetails.svelte'
  import DistrictDetails from './DistrictDetails.svelte'
  import CoordinateDetails from './CoordinateDetails.svelte'
</script>

<nav
  id="sidebar"
  class="w-full h-1/2 md:h-full md:w-80 overflow-auto shadow-lg text-gray-900 flex flex-col"
>
  <div class="flex-1">
    {#if $selectedBoundaryMap && $selectedDistrict}
      <DistrictDetails />
    {:else if $selectedBoundaryMap && !$selectedDistrict}
      <BoundaryDetails />
    {:else if $selectedAddress}
      <AddressDetails />
    {:else if $isSelectingCoordinates || $selectedCoordinates}
      <CoordinateDetails />
    {:else}
      <DefaultDetails />
    {/if}
  </div>
  <footer class="p-4 flex content-start">
    <a
      href="https://beta.nyc"
      class="-mb-0.5 w-20 text-gray-500 hover:text-gray-700 mr-auto"
      title="A BetaNYC Tool"
    >
      <svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 273.64 92.38"
        ><path
          d="M7.36,26.23c0-5.73,1.67-10.32,5.02-13.78,3.21-3.51,8.05-5.3,14.53-5.35,5.15,0,9.53,1.16,13.16,3.49,3.62,2.38,5.49,6.41,5.6,12.08,0,3.24-.84,5.99-2.53,8.26-1.77,2.32-4.32,3.85-7.64,4.57v.17c4.23,.36,7.57,2.03,10,5.02,2.44,2.96,3.65,6.71,3.65,11.25-.05,5.31-1.58,9.53-4.56,12.66-3.07,3.21-7.26,4.84-12.58,4.9-2.49,0-4.84-.5-7.06-1.49-2.27-1.02-4.11-2.59-5.52-4.69h-.21v22H7.36V26.23Zm18.26,5.77h1.7c2.1,0,3.8-.71,5.1-2.12,1.25-1.41,1.87-3.28,1.87-5.6s-.65-4.22-1.95-5.69c-1.3-1.41-3.11-2.12-5.44-2.12-5.29,.06-7.84,3.09-7.68,9.09v21.25c.08,8.72,3.29,12.99,9.63,12.82,2.71,0,4.8-.97,6.27-2.9,1.44-1.74,2.16-3.89,2.16-6.43-.11-6.2-3.29-9.35-9.55-9.46-.72,0-1.42,.12-2.12,.37v-9.21Z"
          fill="currentColor"
        /><path
          d="M75.52,38.4c2.15,.96,3.93,2.49,5.34,4.57,1.26,1.83,2.08,3.96,2.46,6.38,.22,1.42,.31,3.46,.27,6.13h-22.48c.12,3.1,1.2,5.27,3.23,6.51,1.23,.77,2.72,1.16,4.45,1.16,1.84,0,3.33-.47,4.48-1.42,.63-.51,1.18-1.22,1.66-2.12h8.24c-.22,1.83-1.21,3.69-2.99,5.58-2.76,3-6.64,4.5-11.61,4.5-4.11,0-7.73-1.27-10.87-3.8-3.14-2.53-4.71-6.65-4.71-12.36,0-5.35,1.42-9.45,4.25-12.3,2.83-2.85,6.51-4.28,11.04-4.28,2.69,0,5.11,.48,7.26,1.45Zm-12.08,6.97c-1.14,1.18-1.86,2.77-2.15,4.78h13.91c-.15-2.14-.86-3.77-2.15-4.88-1.29-1.11-2.88-1.66-4.79-1.66-2.07,0-3.68,.59-4.82,1.76Z"
          fill="currentColor"
        /><path
          d="M84.49,43.81v-5.75h4.3v-8.61h7.99v8.61h5.01v5.75h-5.01v16.31c0,1.27,.16,2.05,.48,2.37,.32,.31,1.3,.47,2.95,.47,.25,0,.5,0,.78-.01,.27,0,.54-.02,.81-.04v6.03l-3.82,.14c-3.81,.13-6.42-.53-7.82-1.98-.91-.92-1.36-2.35-1.36-4.28v-19h-4.3Z"
          fill="currentColor"
        /><path
          d="M119.2,49.87c1.5-.19,2.58-.42,3.22-.71,1.16-.49,1.74-1.25,1.74-2.29,0-1.26-.45-2.14-1.33-2.62-.89-.48-2.2-.72-3.92-.72-1.93,0-3.3,.47-4.11,1.42-.57,.7-.96,1.64-1.15,2.83h-7.79c.17-2.7,.93-4.92,2.28-6.66,2.14-2.72,5.82-4.08,11.04-4.08,3.39,0,6.41,.67,9.04,2.01,2.63,1.34,3.95,3.87,3.95,7.59v14.16c0,.98,.02,2.17,.06,3.57,.06,1.06,.22,1.78,.48,2.15,.26,.38,.66,.69,1.19,.93v1.19h-8.78c-.25-.62-.41-1.21-.51-1.76-.09-.55-.17-1.17-.23-1.87-1.12,1.21-2.41,2.24-3.87,3.09-1.75,1-3.72,1.5-5.93,1.5-2.81,0-5.13-.8-6.96-2.39-1.83-1.59-2.75-3.86-2.75-6.78,0-3.79,1.47-6.54,4.42-8.24,1.62-.92,3.99-1.59,7.13-1.98l2.77-.34Zm4.94,3.77c-.52,.32-1.04,.58-1.56,.78-.53,.2-1.25,.38-2.17,.55l-1.84,.34c-1.72,.3-2.96,.67-3.71,1.1-1.27,.74-1.91,1.88-1.91,3.43,0,1.38,.39,2.38,1.16,2.99,.78,.61,1.72,.92,2.83,.92,1.76,0,3.39-.51,4.87-1.53,1.49-1.02,2.26-2.88,2.32-5.58v-3Z"
          fill="currentColor"
        /><path
          d="M140.4,20.42h10.56l19.14,33.62V20.42h9.39v48.22h-10.07l-19.63-34.22v34.22h-9.39V20.42Z"
          fill="currentColor"
        /><path
          d="M214.32,20.42h11.42l-16.13,30.14v18.08h-10.08v-18.08l-16.68-30.14h11.88l10.01,21,9.58-21Z"
          fill="currentColor"
        /><path
          d="M230.54,25.46c3.88-3.97,8.83-5.95,14.82-5.95,8.03,0,13.89,2.66,17.61,7.98,2.05,2.99,3.15,5.99,3.3,9h-10.08c-.64-2.31-1.46-4.06-2.47-5.23-1.8-2.09-4.45-3.14-7.98-3.14s-6.42,1.48-8.49,4.43-3.11,7.14-3.11,12.55,1.09,9.46,3.28,12.15c2.19,2.69,4.97,4.04,8.34,4.04s6.09-1.16,7.91-3.47c1-1.24,1.83-3.11,2.5-5.59h10.01c-.86,5.26-3.07,9.53-6.62,12.82-3.55,3.29-8.1,4.94-13.64,4.94-6.86,0-12.26-2.22-16.18-6.67-3.93-4.47-5.89-10.6-5.89-18.38,0-8.42,2.23-14.91,6.7-19.47Z"
          fill="currentColor"
        /></svg
      >
    </a>
    <a
      class="mt-0.5 text-sm text-gray-500 underline hover:text-gray-700"
      href="https://github.com/BetaNYC/nyc-boundaries/blob/master/LICENSE"
      >License</a
    >
    <a
      class="mt-0.5 ml-2 text-sm text-gray-500 underline hover:text-gray-700"
      href="https://github.com/BetaNYC/nyc-boundaries">Github</a
    >
  </footer>
</nav>
